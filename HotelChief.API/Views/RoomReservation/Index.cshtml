@model HotelChief.API.ViewModels.GuestReservationViewModel

<h2>Available Rooms</h2>

@foreach (var room in Model.AvailableRooms)
{
    <h3>Room @room.RoomNumber</h3>
    <p>Type: @room.RoomType</p>

    <h4>Available Time Slots:</h4>
    <form method="post" asp-controller="RoomReservation" asp-action="ReserveRoom">
        <input type="hidden" name="roomNumber" value="@room.RoomNumber" />

        <ul>
            @foreach (var timeSlot in Model.AvailableTimeSlots[room.RoomNumber])
            {
                <li>
                    <label>
                        <input type="checkbox" name="selectedTimeSlots" value="@timeSlot.Item1.ToString("yyyy-MM-dd HH:mm") - @timeSlot.Item2.ToString("yyyy-MM-dd HH:mm")" />
                        @timeSlot.Item1.ToString("yyyy-MM-dd HH:mm") - @timeSlot.Item2.ToString("yyyy-MM-dd HH:mm")
                    </label>
                </li>
            }
        </ul>

        <button type="submit">Reserve Selected Time Slots</button>
        @Html.ValidationSummary()
    </form>
}
@section Scripts {
    @{
        await Html.RenderPartialAsync("_ValidationScriptsPartial");
    }
}